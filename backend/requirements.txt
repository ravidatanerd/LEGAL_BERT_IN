# InLegalDesk Backend - Fixed for Windows Python 3.6+ Compilation Issues
# Based on testing - avoids opencv-python and tokenizers compilation errors

# Essential: Install wheel support first (prevents legacy setup.py installs)
wheel>=0.36.0
setuptools>=40.0.0

# Core FastAPI stack (compatible versions)
fastapi>=0.65.0,<0.80.0
uvicorn[standard]>=0.13.0,<0.18.0
python-multipart>=0.0.5
pydantic>=1.8.0,<2.0.0

# Essential math library (flexible for different Python versions)
numpy>=1.19.0

# AI libraries (FIXED - specific versions to avoid tokenizers compilation)
# Use specific torch and transformers versions with known wheel availability
torch>=1.7.0,<1.13.0
transformers>=4.20.0,<4.30.0
regex>=2020.1.8
requests>=2.20.0
tqdm>=4.27
pyyaml>=5.1
huggingface-hub>=0.8.0
filelock>=3.0.0
packaging>=20.0

# Sentence transformers (compatible version)
sentence-transformers>=2.1.0

# Document processing (FIXED - use compatible PyMuPDF version)
PyMuPDF>=1.16.0,<=1.19.6
Pillow>=8.0.0
pytesseract>=0.3.7

# Computer vision (FIXED - use headless version to avoid compilation)
opencv-python-headless>=4.5.0

# Text processing
rank-bm25>=0.2.0
markdown>=3.2.0

# HTTP and async
httpx>=0.20.0
aiofiles>=0.6.0
requests>=2.25.0

# Environment and config
python-dotenv>=0.15.0

# Security (basic compatible versions)
cryptography>=3.0.0

# Optional dependencies (install separately if needed)
# faiss-cpu>=1.6.0  # May not be available on all systems
# protobuf>=3.15.0  # Install manually if hybrid models needed
# sentencepiece>=0.1.85  # Install manually for T5/XLNet